{
	"name": "SecurePoll",
	"author": [
		"Tim Starling",
		"..."
	],
	"url": "https://www.mediawiki.org/wiki/Extension:SecurePoll",
	"descriptionmsg": "securepoll-desc",
	"license-name": "GPL-2.0-or-later",
	"version": "3.0.0",
	"type": "other",
	"requires": {
		"MediaWiki": ">= 1.42.0"
	},
	"AvailableRights": [
		"securepoll-create-poll",
		"securepoll-view-voter-pii"
	],
	"ContentHandlers": {
		"SecurePoll": "\\MediaWiki\\Extension\\SecurePoll\\SecurePollContentHandler"
	},
	"SpecialPages": {
		"SecurePoll": {
			"class": "\\MediaWiki\\Extension\\SecurePoll\\SpecialSecurePoll",
			"services": [
				"SecurePoll.ActionPageFactory"
			]
		}
	},
	"JobClasses": {
		"securePollPopulateVoterList": "\\MediaWiki\\Extension\\SecurePoll\\Jobs\\PopulateVoterListJob",
		"securePollTallyElection": "\\MediaWiki\\Extension\\SecurePoll\\Jobs\\TallyElectionJob",
		"securePollLogAdminAction": "\\MediaWiki\\Extension\\SecurePoll\\Jobs\\LogAdminActionJob",
		"securePollArchiveElection": "\\MediaWiki\\Extension\\SecurePoll\\Jobs\\ArchiveElectionJob",
		"securePollUnarchiveElection": "\\MediaWiki\\Extension\\SecurePoll\\Jobs\\UnarchiveElectionJob"
	},
	"APIModules": {
		"securepollauth": {
			"class": "\\MediaWiki\\Extension\\SecurePoll\\Api\\ApiSecurePollAuth",
			"services": [
				"UserFactory"
			]
		},
		"strikevote": {
			"class": "\\MediaWiki\\Extension\\SecurePoll\\Api\\ApiStrikeVote",
			"services": [
				"SecurePoll.ActionPageFactory"
			]
		}
	},
	"RestRoutes": [
		{
			"path": "/securepoll/set_translation/{entityid}/{language}",
			"method": "POST",
			"class": "\\MediaWiki\\Extension\\SecurePoll\\Rest\\SetTranslationHandler",
			"services": [
				"SecurePoll.TranslationRepo"
			]
		}
	],
	"MessagesDirs": {
		"SecurePoll": [
			"i18n",
			"i18n/api"
		]
	},
	"ExtensionMessagesFiles": {
		"SecurePollAlias": "SecurePoll.alias.php",
		"SecurePollNamespaces": "SecurePoll.namespaces.php"
	},
	"AutoloadClasses": {
		"DeletePoll": "cli/delete.php",
		"UpdateNotBlockedKey": "cli/updateNotBlockedKey.php"
	},
	"AutoloadNamespaces": {
		"MediaWiki\\Extension\\SecurePoll\\": "includes/"
	},
	"ResourceModules": {
		"ext.securepoll.htmlform": {
			"localBasePath": "modules/ext.securepoll.htmlform",
			"remoteExtPath": "SecurePoll/modules/ext.securepoll.htmlform",
			"packageFiles": [
				"dispatcher.js",
				"page.log.js",
				"page.create.js",
				"page.list.js",
				"page.vote.js",
				"TranslationParser.js",
				"TranslationFlattener.js",
				"TranslationImporter.js",
				"translation/dialog/ImportDialog.js",
				"translation/pages/SelectSourcePage.js",
				"translation/pages/ImportPage.js",
				"translation/pages/ResultPage.js"
			],
			"dependencies": [
				"oojs-ui",
				"mediawiki.widgets.UserInputWidget",
				"jquery.spinner"
			],
			"messages": [
				"securepoll-strike-button",
				"securepoll-strike-reason",
				"securepoll-unstrike-button",
				"securepoll-translation-importer-no-content",
				"securepoll-translation-importer-update-start",
				"securepoll-translation-importer-update-parsed-content",
				"securepoll-translation-importer-no-selected-language",
				"cancel",
				"securepoll-translation-import-dialog-title",
				"securepoll-translation-import-action-import",
				"securepoll-translation-import-action-done",
				"securepoll-translation-error-no-page-title",
				"securepoll-translation-result-error-title",
				"securepoll-translation-result-error-text",
				"securepoll-translation-result-import-pages-title",
				"securepoll-translation-result-import-pages-text",
				"securepoll-translation-result-description",
				"securepoll-translation-import-start",
				"securepoll-translation-select-import-source"
			]
		},
		"ext.securepoll": {
			"styles": "ext.securepoll.css"
		},
		"ext.securepoll.special": {
			"styles": "ext.securepoll.special.css"
		}
	},
	"ResourceFileModulePaths": {
		"localBasePath": "modules",
		"remoteExtPath": "SecurePoll/modules"
	},
	"Hooks": {
		"UserLogout": "logout",
		"LoadExtensionSchemaUpdates": "install",
		"CanonicalNamespaces": "setup",
		"TitleQuickPermissions": "setup",
		"SpecialPage_initList": "setup"
	},
	"HookHandlers": {
		"install": {
			"class": "\\MediaWiki\\Extension\\SecurePoll\\HookHandler\\InstallHandler"
		},
		"setup": {
			"class": "\\MediaWiki\\Extension\\SecurePoll\\HookHandler\\SetupHandler",
			"services": [
				"MainConfig"
			]
		},
		"logout": {
			"class": "\\MediaWiki\\Extension\\SecurePoll\\HookHandler\\LogoutHandler"
		}
	},
	"ServiceWiringFiles": [
		"includes/ServiceWiring.php"
	],
	"namespaces": [
		{
			"id": 830,
			"name": "SecurePoll",
			"constant": "NS_SECUREPOLL",
			"subpages": true,
			"defaultcontentmodel": "SecurePoll",
			"conditional": true
		},
		{
			"id": 831,
			"name": "SecurePoll_talk",
			"constant": "NS_SECUREPOLL_TALK",
			"subpages": true,
			"conditional": true
		}
	],
	"QUnitTestModule": {
		"localBasePath": "",
		"remoteExtPath": "SecurePoll",
		"scripts": [
			"modules/ext.securepoll.htmlform/TranslationParser.js",
			"modules/ext.securepoll.htmlform/TranslationFlattener.js",
			"tests/qunit/TranslationParser.test.js",
			"tests/qunit/TranslationFlattener.test.js"
		],
		"dependencies": [
			"ext.securepoll.htmlform"
		]
	},
	"config": {
		"SecurePollGPGCommand": {
			"value": "gpg"
		},
		"SecurePollTempDir": {
			"value": "/tmp"
		},
		"SecurePollShowErrorDetail": {
			"value": false
		},
		"SecurePollKeepPrivateInfoDays": {
			"value": 90,
			"description": "Maximum number of days for which to store private information about voters."
		},
		"SecurePollCreateWikiGroupDir": {
			"value": "/../",
			"description": "Directory containing files defining groups of wikis that can participate in an election. File names are defined in SecurePollCreateWikiGroups."
		},
		"SecurePollExcludedWikis": {
			"value": [],
			"description": "List of wikis to be excluded from SecurePoll processes"
		},
		"SecurePollCreateWikiGroups": {
			"value": [],
			"description": "Array of $fileName => $messageKey for defining groups of wikis that can participate in an election, and the groups' labels in the Create form. Files should be stored in SecurePollCreateWikiGroupDir with the suffix .dblist, and contain a list of participating wikis. The suffix should be omitted from the file names given here."
		},
		"SecurePollCreateRemoteScriptPath": {
			"value": "https:$wgServer/w"
		},
		"SecurePollUseNamespace": {
			"value": false,
			"description": "Make the SecurePoll namespace available, and record election details to pages in this namespace."
		},
		"SecurePollGpgSignKey": {
			"value": null
		},
		"SecurePollUseLogging": {
			"value": false,
			"description": "Whether to log admin actions to securepoll_log table."
		},
		"SecurePollSingleTransferableVoteEnabled": {
			"value": false,
			"description": "Enable or disable Single Transferable Vote on secure poll."
		},
		"SecurePollTranslationImportSourceUrl": {
			"value": "",
			"description": "Source url pointing to api endpoint where pages for import should come from"
		}
	},
	"manifest_version": 2
}
